# âš ï¸ This repository is currently undergoing refactoring. Please wait a few days before using it.
# Integrating AlphaFold and pyDock for Proteinâ€“Protein Complex Modeling

This repository accompanies the chapter
**â€œModeling Proteinâ€“Protein Complexes by Combining pyDock and AlphaFoldâ€**
published in *Methods in Molecular Biology (2026)*, and provides a practical, reproducible implementation of the workflow described by **RodrÃ­guez-Lumbreras et al.** .

The main goal is to demonstrate how **artificial intelligenceâ€“based modeling (AlphaFold2-Multimer and AlphaFold3)** can be combined with **energy-based scoring from pyDock** to improve the accuracy of proteinâ€“protein complex predictions, particularly for challenging cases such as:

* antibodyâ€“antigen complexes
* multiprotein assemblies
* weak or transient interactions
* highly flexible proteins

The repository is organized into **three folders**, each corresponding to a major stage of the workflow: model generation with AlphaFold, energy scoring with pyDock, and final integration of both approaches.

---

## ğŸ“ Repository Structure

```
â”œâ”€â”€ 3.1_Generating_3D_Models_for_Protein_Protein_Complexes_with_AlphaFold/
â”‚     Scripts and examples for generating multiple conformations
â”‚     using ColabFold AlphaFold2-Multimer, including the relaxation
â”‚     of all recycled intermediate models generated by AF2.
â”‚
â”œâ”€â”€ 3.3.2_Computing_pyDock_Scores_for_a_Set_of_Complexes/
â”‚     Templates (.ini ) generation, bindEy execution, chain reconstruction
â”‚     with SCWRL, and parsed pyDock energy tables.
â”‚
â”œâ”€â”€ 3.4_Combined_Model_Confidence_and_pyDock_Score/
â”‚     Scripts for integrating AlphaFold confidence metrics (AF-MC) with 
â”‚     pyDock energy scores, including parsed energy tables and extracted 
â”‚     AF2/AF3 metadata. This section computes z-scores for both scoring 
â”‚     functions, generates combined AFâ€“pyDock rankings, and outputs the 
â”‚     final prioritized model list.
```

Each section contains ready-to-use scripts, test cases, and short usage notes.

---

## ğŸ§¬ 3.1 Generating Diverse Complex Models with AlphaFold

This folder contains:

* Workflows for **AlphaFold2-Multimer** (versions v1, v2, v3) with:

  * increased recycles
  * dropout during inference
  * saving all intermediate recycles
  * multiple seeds
* ColabFold and LocalColabFold pipelines for rapid predictions without large databases.
* AlphaFold3 examples (server-based and local execution).
* FASTA templates for heterodimers and homooligomers.

The aim is to generate **>100 structural models per complex**, which is essential for the subsequent scoring stage.

---

## âš¡ 3.3.2 pyDock Energy Scoring

This folder includes:

* Automatic generation of all required `*.ini` files.
* Parallel execution of **bindEy** via **Greasy**.
* Optional side-chain reconstruction using **SCWRL3/4**.
* Example `*.ene` energy tables including:

  * Electrostatics (ELE)
  * Desolvation (DESOLV)
  * Van der Waals (VDW)
  * pyDock total energy (0.1Â·VDW)
  * pyDock total energy (1.0Â·VDW)

The **VHHâ€“RNase A (PDB 4POU)** complex is provided as an illustrative example.

---

## ğŸ”— 3.4. Integrating AlphaFold Confidence and pyDock Energies

**combining AlphaFold model confidence (AF-MC = 0.8Â·ipTM + 0.2Â·pTM) with pyDock energies using z-score normalization.**

Included:

* Extraction of AF-MC from AF2 `log.txt` or AF3 `summary_confidence.json`.
* Computation of:

  ```
  Z = (X âˆ’ Î¼) / Ïƒ
  ```
* Calculation of:

  * `Z_AF-MC`
  * `Z_pyDock-1VDW`
  * `Z_combined = Z_AF-MC â€“ Z_pyDock-1VDW`
* Final ranking and filtering of top predictions.

When **AF-MC < 0.8**, the pipeline automatically falls back to **classical pyDock docking**, following the decision tree shown in Fig. 1 of the chapter.

---#

## ğŸ“˜ Case Studies Included

1. **VHHâ€“RNase A (4POU)**
   â†’ AF2 rank 1 fails; pyDock identifies an acceptable model.
---

## ğŸ›  Requirements

* Python â‰¥ 3.8
* pyDock â‰¥ 3.0
* SCWRL3 or SCWRL4
* Greasy (for task parallelization)
* AlphaFold2-Multimer / ColabFold / AlphaFold3 (depending on workflow)

---

## ğŸš€ Quick Installation

```bash
git clone https://github.com/PyDock/AF_pyDock/
cd AF_pyDock
```

Each internal folder includes its own usage notes and example scripts.

---

## ğŸ“„ Citation

If you use this repository, please cite:

> RodrÃ­guez-Lumbreras LA, Monteagudo V, FernÃ¡ndez-Recio J.
> *Modeling Proteinâ€“Protein Complexes by Combining pyDock and AlphaFold.*
> Methods in Molecular Biology (2026).
>

---

## ğŸ¤ Contributing

Contributions, suggestions, and pull requests are welcome.

---

## ğŸ“§ Contact

For questions related to the protocol or pyDock software:

**Juan FernÃ¡ndez-Recio Group**
